/*!
 * XpertRule JavaScript Engine Loader
 * Version : 647
 * (C)XpertRule Software Ltd 2015
 */
var xrkb_include_folder="";var xrBootstrap={script_src:"",include_folder:"",staticLoader:false,endCBpage:null,isChrome:navigator.userAgent.toLowerCase().indexOf("chrome")>-1,xrkb_setup:{payloadFn:"payload.js",payload:{hb:false,isMobile:false,isAjax:false,isApp:false,noCache:false,noAutoRun:false,endCallback:null,files:[]},container:"body"},xr_ident:"xrkb_",addMessage:function(b){var a=$("#"+this.xr_ident+"loading_err");$("<div></div>").html(b).appendTo(a);a.show();$("#"+this.xr_ident+"loading_div").show()},clearLongLoad:function(){if(this.longLoad){clearTimeout(this.longLoad);this.longLoad=null}if(this.shortLoad){clearTimeout(this.shortLoad);this.shortLoad=null}},shortLoad:window.setTimeout(function(){$("#"+xrBootstrap.xr_ident+"loading_div").show()},1000),longLoad:window.setTimeout(function(){xrBootstrap.clearLongLoad();xrBootstrap.addMessage("Page is taking a long time to load!<br />Click <a href='javascript:location.reload(true)'>here</a> to reload the page")},5000),XRstartupCalled:false,run:function(){if(this.XRstartupCalled){Go()}else{this.xrkb_setup.noAutoRun=false}},mainStart:function(){window.isMobile=this.xrkb_setup.payload.isMobile;window.jsAjax=this.xrkb_setup.payload.isAjax;window.appEmbedded=this.xrkb_setup.payload.isApp;this.endCBpage=this.xrkb_setup.payload.endCallback;if(this.xrkb_setup.payload.hb){_hb.a=1}$("#"+this.xr_ident+"loading_div").remove();var a=$(this.xrkb_setup.container);if(this.xrkb_setup.payload.isMobile){$("#xruipage").show()}else{$("<div id='loadingScreen'></div>").appendTo(this.xrkb_setup.container);$("<div id='xrui'></div>").appendTo(this.xrkb_setup.container)}if(this.xrkb_setup.noAutoRun){autoRun=false}XR_Startup("xrui",undefined);this.XRstartupCalled=true},cacheBuster:function(){if(this.xrkb_setup.payload.noCache){return"#"+(Math.random()*10000000)}else{return""}},getScript:function(a,l,k){var c=this;if(a.substr(a.length-4).toLowerCase()==".css"){var j=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.setAttribute("href",a+this.cacheBuster());i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("media","screen");var f,d,b,e;if("sheet" in i){f="sheet";d="cssRules"}else{f="styleSheet";d="rules"}b=setInterval(function(){try{if(i[f]&&(c.isChrome||(i[f][d]&&(i[f][d].length>0)))){clearInterval(b);clearTimeout(e);if($.isFunction(l)){l()}}}catch(m){}finally{}},10);e=setTimeout(function(){clearInterval(b);clearTimeout(e);if($.isFunction(k)){k("Load Error")}},3000);j.appendChild(i)}else{if(this.staticLoader){var h=document.getElementsByTagName("head")[0];var g=document.createElement("script");g.setAttribute("type","text/javascript");g.onload=function(){if($.isFunction(l)){l();l=null}};g.onreadystatechange=function(){if(g.readyState==="complete"){g.onload()}};g.onerror=function(){if($.isFunction(k)){k("Load Error")}};g.setAttribute("src",a+this.cacheBuster());h.appendChild(g)}else{$.ajax({url:a,dataType:"script",scriptCharset:"ISO-8859-1",cache:this.xrkb_setup.payload.noCache,success:function(n,o,m){if($.isFunction(l)){l()}},error:function(m,o,n){if($.isFunction(k)){k(n)}}})}}},loadList:[],loadList_length:0,loadScript:function(){var a=this;if(this.loadList.length==0){this.clearLongLoad();$("#"+this.xr_ident+"loading_progress_bar").css("width","100%");this.mainStart()}else{var b=this.include_folder+this.loadList.shift();$("#"+this.xr_ident+"loading_progress_bar").css("width",((this.loadList_length-this.loadList.length)/(this.loadList_length+1))*100+"%");this.getScript(b,function(){a.loadScript()},function(c){a.clearLongLoad();a.addMessage("Error loading resource ["+b+"]<br>"+c)})}},setPayload:function(a){this.xrkb_setup.payload=$.extend(true,this.xrkb_setup.payload,a);if(this.xrkb_setup.payload.isMobile){$("#xruipage").hide()}},startup:function(){var c=this;if($.isPlainObject(window.xrkb_setup)){this.xrkb_setup=$.extend(true,this.xrkb_setup,window.xrkb_setup)}var b;var f=document.location.href;b=f.split("/");var g=b.length-1;b=this.script_src.split("/");if(b.length>g){for(;g<b.length-1;g++){this.include_folder+=b[g]+"/"}}xrkb_include_folder=this.include_folder;this.staticLoader=this.script_src.substr(0,5).toLowerCase()=="file:";$("<style type='text/css'>#"+this.xr_ident+"loading_div{    font-size: 1.0em;    font-family: Arial, sans-serif;    margin: 5em auto;    width: 20em;    text-align: center;    display: none;}#"+this.xr_ident+"loading_progress {    width: 100%;    height: 1em;    border: 1px solid #444;    background-color: #FFF;    position: relative;    margin: 8px 0;}#"+this.xr_ident+"loading_progress_bar {    width: 0;    height: 100%;    position: relative;    background-color: #ccc;}#"+this.xr_ident+"loading_err {    font-size: 80%;    color: #888;}</style>").appendTo("head");$("<div id='"+this.xr_ident+"loading_div'>  Loading, Please wait...<br>  <div id='"+this.xr_ident+"loading_progress'><div id='"+this.xr_ident+"loading_progress_bar'></div></div>  <span id='"+this.xr_ident+"loading_err'></span></div>").appendTo("body");var e=this.include_folder+this.xrkb_setup.payloadFn+this.cacheBuster();this.getScript(e,function(){c.loadList=c.xrkb_setup.payload.files.slice(0);c.loadList_length=c.loadList.length;c.loadScript()},function(a){c.clearLongLoad();c.addMessage("Error loading resource ["+e+"<br>"+a)})}};(function(){var a=document.getElementsByTagName("script");xrBootstrap.script_src=a[a.length-1].src}());$(function(){xrBootstrap.startup()});